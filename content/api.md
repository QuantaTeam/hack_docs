---
title: "API"
toc: true
weight: 10
---

HOST: <https://hack.barklan.com/api> \
Обязательные праметры помечены `*`.

## Список изменений

- **версия 1.0.0 - 27 Октября** \
   Добавлен путь `/applications/{id}` \
   Добавлен путь `/applications/anomalies`
- **версия 1.1.0 - 30 Октября 8:30 PM** \
   Добавлен путь `/applications`
- **версия 1.2.0 - 30 Октября 10:00 PM** \
   Добавлен путь `/applications/meta`
- **версия 1.3.0 - 30 Октября 11:30 PM** \
   Добавлен ключ "Наименование дефекта" в ответе `/applications/anomalies`

## Пути

---

### /applications/{id}

Возвращает одну заявку по заданному id.

---

### /applications

Возвращает список всех заявок

#### Параметры запроса

- `offset`: integer - соответствует значению `OFFSET` в SQL запросе
- `limit`: integer - соответствует значение `LIMIT` в SQL запросе
- `is_anomaly`: boolean - является ли заявка аномальной

Следующие параметры могут быть переданы несколько раз или в виде массива:

- `defect_category_name`: string - Наименование категории дефекта
- `type_of_work_performed`: string - Вид выполненных работ
- `district_code`: string - Код района

Следующие параметры имеют вид строки в формате timestamp по RFC 3339 (пример: `2021-01-06T12:10:05+00:00`):

- `creation_timestamp_start`: string - дата создания заявки должна быть **после** указанного значения
- `creation_timestamp_end`: string - дата создания заявки должна быть **до** указанного значения
- `closure_timestamp_start`: string - дата закрытия заявки должна быть **после** указанного значения
- `closure_timestamp_end`: string - дата закрытия заявки должна быть **до** указанного значения

---

### /applications/anomalies

Возвращает список всех аномальных заявок в данном формате:

```json
[
    {
        "id": 271602,
        "geo_coordinates": [
            55.65559387207031,
            37.46931457519531
        ]
        "Наименование дефекта": "Электроплиты"
     },
    ...
]
```

---

### /applications/meta

Возвращает список метаданных:

```json
{
    "defect_category_name": [
        ...
    ],
    "type_of_work_performed": [
        ...
    ],
    "district_code": [
        ...
    ],
}
```

---
